EESchema Schematic File Version 4
LIBS:sumur-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "SKRIPSI POMPA AIR IOT"
Date "2020-07-26"
Rev "0.0.1"
Comp "ANUNG"
Comment1 "312118052"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L wemos_mini:WeMos_D1_mini U5
U 1 1 5F1D18F0
P 6100 4250
F 0 "U5" H 6100 4896 60  0000 C CNN
F 1 "NodeMCU" H 6100 4786 60  0000 C CNN
F 2 "" H 6650 3550 60  0000 C CNN
F 3 "" H 6100 4786 60  0000 C CNN
	1    6100 4250
	1    0    0    -1  
$EndComp
$Comp
L Transistor_FET:IRF3205 Q1
U 1 1 5F1D19A2
P 9650 4200
F 0 "Q1" H 9856 4247 50  0000 L CNN
F 1 "IRFZ44" H 9856 4154 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 9900 4125 50  0001 L CIN
F 3 "http://www.irf.com/product-info/datasheets/data/irf3205.pdf" H 9650 4200 50  0001 L CNN
	1    9650 4200
	1    0    0    -1  
$EndComp
$Comp
L Isolator:PC817 U6
U 1 1 5F1D1A43
P 8900 3700
F 0 "U6" H 8900 4031 50  0000 C CNN
F 1 "PC817" H 8900 3938 50  0000 C CNN
F 2 "Package_DIP:DIP-4_W7.62mm" H 8700 3500 50  0001 L CIN
F 3 "http://www.soselectronic.cz/a_info/resource/d/pc817.pdf" H 8900 3700 50  0001 L CNN
	1    8900 3700
	1    0    0    -1  
$EndComp
$Comp
L Device:R R7
U 1 1 5F1D1AB7
P 9350 4000
F 0 "R7" H 9420 4047 50  0000 L CNN
F 1 "220" H 9420 3954 50  0000 L CNN
F 2 "" V 9280 4000 50  0001 C CNN
F 3 "~" H 9350 4000 50  0001 C CNN
	1    9350 4000
	1    0    0    -1  
$EndComp
$Comp
L Device:R R8
U 1 1 5F1D1B09
P 9350 4500
F 0 "R8" H 9420 4547 50  0000 L CNN
F 1 "10k" H 9420 4454 50  0000 L CNN
F 2 "" V 9280 4500 50  0001 C CNN
F 3 "~" H 9350 4500 50  0001 C CNN
	1    9350 4500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR019
U 1 1 5F1D1B5A
P 9750 4750
F 0 "#PWR019" H 9750 4500 50  0001 C CNN
F 1 "GND" H 9755 4573 50  0000 C CNN
F 2 "" H 9750 4750 50  0001 C CNN
F 3 "" H 9750 4750 50  0001 C CNN
	1    9750 4750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR017
U 1 1 5F1D1B7B
P 9350 4800
F 0 "#PWR017" H 9350 4550 50  0001 C CNN
F 1 "GND" H 9355 4623 50  0000 C CNN
F 2 "" H 9350 4800 50  0001 C CNN
F 3 "" H 9350 4800 50  0001 C CNN
	1    9350 4800
	1    0    0    -1  
$EndComp
$Comp
L Diode:1N4002 D2
U 1 1 5F1D1C34
P 9750 3700
F 0 "D2" V 9703 3779 50  0000 L CNN
F 1 "1N4002" V 9796 3779 50  0000 L CNN
F 2 "Diode_THT:D_DO-41_SOD81_P10.16mm_Horizontal" H 9750 3525 50  0001 C CNN
F 3 "http://www.vishay.com/docs/88503/1n4001.pdf" H 9750 3700 50  0001 C CNN
	1    9750 3700
	0    1    1    0   
$EndComp
$Comp
L Motor:Motor_DC M1
U 1 1 5F1D1CE1
P 10300 3600
F 0 "M1" H 10458 3597 50  0000 L CNN
F 1 "Motor_DC" H 10458 3504 50  0000 L CNN
F 2 "" H 10300 3510 50  0001 C CNN
F 3 "~" H 10300 3510 50  0001 C CNN
	1    10300 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	9350 3850 9350 3800
Wire Wire Line
	9350 3800 9200 3800
Wire Wire Line
	9350 4150 9350 4200
Wire Wire Line
	9450 4200 9350 4200
Connection ~ 9350 4200
Wire Wire Line
	9350 4200 9350 4350
Wire Wire Line
	9750 3850 9750 3900
Wire Wire Line
	10300 3900 9750 3900
Connection ~ 9750 3900
Wire Wire Line
	9750 3900 9750 4000
Wire Wire Line
	9750 3550 9750 3300
Wire Wire Line
	9750 3300 10300 3300
Wire Wire Line
	10300 3300 10300 3400
$Comp
L power:+12V #PWR018
U 1 1 5F1D1E7D
P 9750 3050
F 0 "#PWR018" H 9750 2900 50  0001 C CNN
F 1 "+12V" H 9765 3227 50  0000 C CNN
F 2 "" H 9750 3050 50  0001 C CNN
F 3 "" H 9750 3050 50  0001 C CNN
	1    9750 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	9750 3050 9750 3300
Connection ~ 9750 3300
Wire Wire Line
	9200 3600 9200 3300
Wire Wire Line
	9200 3300 9750 3300
$Comp
L power:+3.3V #PWR016
U 1 1 5F1D2043
P 8500 3450
F 0 "#PWR016" H 8500 3300 50  0001 C CNN
F 1 "+3.3V" H 8515 3627 50  0000 C CNN
F 2 "" H 8500 3450 50  0001 C CNN
F 3 "" H 8500 3450 50  0001 C CNN
	1    8500 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8500 3450 8500 3600
Wire Wire Line
	8500 3600 8600 3600
$Comp
L Device:R R6
U 1 1 5F1D2181
P 8500 4050
F 0 "R6" H 8570 4097 50  0000 L CNN
F 1 "220" H 8570 4004 50  0000 L CNN
F 2 "" V 8430 4050 50  0001 C CNN
F 3 "~" H 8500 4050 50  0001 C CNN
	1    8500 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	8500 3900 8500 3800
Wire Wire Line
	8500 3800 8600 3800
Wire Wire Line
	9350 4650 9350 4800
Wire Wire Line
	9750 4750 9750 4400
$Comp
L Sensor_Current:A1363xKTTN-5 U1
U 1 1 5F1D2D52
P 2350 2550
F 0 "U1" H 2120 2597 50  0000 R CNN
F 1 "flow sensor" H 2120 2504 50  0000 R CNN
F 2 "Sensor_Current:Allegro_SIP-4" H 2700 2450 50  0001 L CIN
F 3 "http://www.allegromicro.com/~/media/Files/Datasheets/A1363-Datasheet.ashx?la=en" H 2350 2550 50  0001 C CNN
	1    2350 2550
	1    0    0    -1  
$EndComp
$Comp
L Sensor_Temperature:DS18B20 U2
U 1 1 5F1D2EC1
P 2350 4000
F 0 "U2" H 2120 4047 50  0000 R CNN
F 1 "DS18B20" H 2120 3954 50  0000 R CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 1350 3750 50  0001 C CNN
F 3 "http://datasheets.maximintegrated.com/en/ds/DS18B20.pdf" H 2200 4250 50  0001 C CNN
	1    2350 4000
	1    0    0    -1  
$EndComp
$Comp
L HC-SR04:HC-SR04 U3
U 1 1 5F1D3FA1
P 2500 5200
F 0 "U3" H 2593 5570 50  0000 C CNN
F 1 "HC-SR04" H 2593 5477 50  0000 C CNN
F 2 "XCVR_HC-SR04" H 2500 5200 50  0001 L BNN
F 3 "Osepp" H 2500 5200 50  0001 L BNN
	1    2500 5200
	-1   0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR02
U 1 1 5F1D41D8
P 2350 2100
F 0 "#PWR02" H 2350 1950 50  0001 C CNN
F 1 "+3.3V" H 2365 2277 50  0000 C CNN
F 2 "" H 2350 2100 50  0001 C CNN
F 3 "" H 2350 2100 50  0001 C CNN
	1    2350 2100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR03
U 1 1 5F1D423B
P 2350 3000
F 0 "#PWR03" H 2350 2750 50  0001 C CNN
F 1 "GND" H 2355 2823 50  0000 C CNN
F 2 "" H 2350 3000 50  0001 C CNN
F 3 "" H 2350 3000 50  0001 C CNN
	1    2350 3000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 5F1D42BB
P 2350 4400
F 0 "#PWR05" H 2350 4150 50  0001 C CNN
F 1 "GND" H 2355 4223 50  0000 C CNN
F 2 "" H 2350 4400 50  0001 C CNN
F 3 "" H 2350 4400 50  0001 C CNN
	1    2350 4400
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR04
U 1 1 5F1D4381
P 2350 3550
F 0 "#PWR04" H 2350 3400 50  0001 C CNN
F 1 "+3.3V" H 2365 3727 50  0000 C CNN
F 2 "" H 2350 3550 50  0001 C CNN
F 3 "" H 2350 3550 50  0001 C CNN
	1    2350 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 3550 2350 3700
Wire Wire Line
	2350 3000 2350 2850
Wire Wire Line
	2350 2250 2350 2100
Wire Wire Line
	2350 4300 2350 4400
$Comp
L power:+3.3V #PWR07
U 1 1 5F1D4FA2
P 2850 3550
F 0 "#PWR07" H 2850 3400 50  0001 C CNN
F 1 "+3.3V" H 2865 3727 50  0000 C CNN
F 2 "" H 2850 3550 50  0001 C CNN
F 3 "" H 2850 3550 50  0001 C CNN
	1    2850 3550
	1    0    0    -1  
$EndComp
$Comp
L Device:R R2
U 1 1 5F1D4FDA
P 2850 3750
F 0 "R2" H 2920 3797 50  0000 L CNN
F 1 "4k7" H 2920 3704 50  0000 L CNN
F 2 "" V 2780 3750 50  0001 C CNN
F 3 "~" H 2850 3750 50  0001 C CNN
	1    2850 3750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 3600 2850 3550
Wire Wire Line
	2650 4000 2850 4000
Wire Wire Line
	2850 4000 2850 3900
$Comp
L power:+5V #PWR08
U 1 1 5F1D5833
P 2850 4800
F 0 "#PWR08" H 2850 4650 50  0001 C CNN
F 1 "+5V" H 2865 4977 50  0000 C CNN
F 2 "" H 2850 4800 50  0001 C CNN
F 3 "" H 2850 4800 50  0001 C CNN
	1    2850 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 5100 2850 5100
Wire Wire Line
	2850 5100 2850 4800
$Comp
L power:GND #PWR09
U 1 1 5F1D60F7
P 2850 5550
F 0 "#PWR09" H 2850 5300 50  0001 C CNN
F 1 "GND" H 2855 5373 50  0000 C CNN
F 2 "" H 2850 5550 50  0001 C CNN
F 3 "" H 2850 5550 50  0001 C CNN
	1    2850 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 5400 2850 5400
Wire Wire Line
	2850 5400 2850 5550
$Comp
L Device:R R3
U 1 1 5F1D664C
P 3150 5450
F 0 "R3" H 3220 5497 50  0000 L CNN
F 1 "330" H 3220 5404 50  0000 L CNN
F 2 "" V 3080 5450 50  0001 C CNN
F 3 "~" H 3150 5450 50  0001 C CNN
	1    3150 5450
	1    0    0    -1  
$EndComp
$Comp
L Device:R R4
U 1 1 5F1D66D5
P 3150 5850
F 0 "R4" H 3220 5897 50  0000 L CNN
F 1 "680" H 3220 5804 50  0000 L CNN
F 2 "" V 3080 5850 50  0001 C CNN
F 3 "~" H 3150 5850 50  0001 C CNN
	1    3150 5850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR010
U 1 1 5F1D6711
P 3150 6100
F 0 "#PWR010" H 3150 5850 50  0001 C CNN
F 1 "GND" H 3155 5923 50  0000 C CNN
F 2 "" H 3150 6100 50  0001 C CNN
F 3 "" H 3150 6100 50  0001 C CNN
	1    3150 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 5300 3150 5300
Wire Wire Line
	3150 5600 3150 5650
Wire Wire Line
	3150 6000 3150 6100
Text GLabel 3400 5650 2    50   Input ~ 0
echoPin
Wire Wire Line
	3400 5650 3150 5650
Connection ~ 3150 5650
Wire Wire Line
	3150 5650 3150 5700
Text GLabel 3350 5200 2    50   Input ~ 0
trigPin
Wire Wire Line
	3350 5200 2700 5200
Text GLabel 3150 4000 2    50   Input ~ 0
ds18b20Pin
Wire Wire Line
	3150 4000 2850 4000
Connection ~ 2850 4000
Text GLabel 3500 2550 2    50   Input ~ 0
flowPin
Wire Wire Line
	2750 2550 3500 2550
Text GLabel 8250 4350 0    50   Input ~ 0
motorPin
Wire Wire Line
	8250 4350 8500 4350
Wire Wire Line
	8500 4350 8500 4200
$Comp
L Device:LED D1
U 1 1 5F1DBBC1
P 4600 4150
F 0 "D1" V 4639 4029 50  0000 R CNN
F 1 "LED" V 4546 4029 50  0000 R CNN
F 2 "" H 4600 4150 50  0001 C CNN
F 3 "~" H 4600 4150 50  0001 C CNN
	1    4600 4150
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R5
U 1 1 5F1DBC2E
P 5200 3900
F 0 "R5" V 4990 3900 50  0000 C CNN
F 1 "220" V 5083 3900 50  0000 C CNN
F 2 "" V 5130 3900 50  0001 C CNN
F 3 "~" H 5200 3900 50  0001 C CNN
	1    5200 3900
	0    1    1    0   
$EndComp
Wire Wire Line
	4600 4000 4600 3900
Wire Wire Line
	4600 3900 5050 3900
Wire Wire Line
	5350 3900 5600 3900
$Comp
L power:GND #PWR011
U 1 1 5F1E0176
P 4600 4500
F 0 "#PWR011" H 4600 4250 50  0001 C CNN
F 1 "GND" H 4605 4323 50  0000 C CNN
F 2 "" H 4600 4500 50  0001 C CNN
F 3 "" H 4600 4500 50  0001 C CNN
	1    4600 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 4500 4600 4300
Text GLabel 5450 4150 0    50   Input ~ 0
ds18b20Pin
Text GLabel 7050 4350 2    50   Input ~ 0
trigPin
Text GLabel 5300 4450 0    50   Input ~ 0
echoPin
Text GLabel 7050 4050 2    50   Input ~ 0
flowPin
$Comp
L Switch:SW_Push SW1
U 1 1 5F1E1C79
P 2350 7050
F 0 "SW1" H 2350 7341 50  0000 C CNN
F 1 "SW_Push" H 2350 7248 50  0000 C CNN
F 2 "" H 2350 7250 50  0001 C CNN
F 3 "" H 2350 7250 50  0001 C CNN
	1    2350 7050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR01
U 1 1 5F1E1F42
P 2050 7200
F 0 "#PWR01" H 2050 6950 50  0001 C CNN
F 1 "GND" H 2055 7023 50  0000 C CNN
F 2 "" H 2050 7200 50  0001 C CNN
F 3 "" H 2050 7200 50  0001 C CNN
	1    2050 7200
	1    0    0    -1  
$EndComp
Text GLabel 2900 7050 2    50   Input ~ 0
overloadPin
Wire Wire Line
	2150 7050 2050 7050
Wire Wire Line
	2050 7050 2050 7200
Wire Wire Line
	2550 7050 2700 7050
$Comp
L Device:R R1
U 1 1 5F1E3684
P 2700 6750
F 0 "R1" H 2770 6797 50  0000 L CNN
F 1 "10k" H 2770 6704 50  0000 L CNN
F 2 "" V 2630 6750 50  0001 C CNN
F 3 "~" H 2700 6750 50  0001 C CNN
	1    2700 6750
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR06
U 1 1 5F1E3708
P 2700 6500
F 0 "#PWR06" H 2700 6350 50  0001 C CNN
F 1 "+3.3V" H 2715 6677 50  0000 C CNN
F 2 "" H 2700 6500 50  0001 C CNN
F 3 "" H 2700 6500 50  0001 C CNN
	1    2700 6500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 6500 2700 6600
Wire Wire Line
	2700 7050 2700 6900
Connection ~ 2700 7050
Wire Wire Line
	2700 7050 2900 7050
Text GLabel 5450 4300 0    50   Input ~ 0
overloadPin
$Comp
L Regulator_Switching:TMR_1-0511 U4
U 1 1 5F1E7103
P 6000 2300
F 0 "U4" H 6000 2771 50  0000 C CNN
F 1 "stepDownConverterLm2596" H 6000 2678 50  0000 C CNN
F 2 "Converter_DCDC:Converter_DCDC_TRACO_TMR-1-xxxx_Single_THT" H 6000 1950 50  0001 C CNN
F 3 "http://assets.tracopower.com/TMR1/documents/tmr1-datasheet.pdf" H 6000 1800 50  0001 C CNN
	1    6000 2300
	1    0    0    -1  
$EndComp
$Comp
L Connector:Jack-DC 12V_input
U 1 1 5F1E7570
P 4600 2200
F 0 "12V_input" H 4657 2531 50  0000 C CNN
F 1 "Jack-DC" H 4657 2438 50  0000 C CNN
F 2 "" H 4650 2160 50  0001 C CNN
F 3 "~" H 4650 2160 50  0001 C CNN
	1    4600 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 2100 5350 2100
Wire Wire Line
	4900 2300 5350 2300
Wire Wire Line
	5350 2300 5350 2500
Wire Wire Line
	5350 2500 5500 2500
$Comp
L power:+5V #PWR013
U 1 1 5F1EABD9
P 6650 1950
F 0 "#PWR013" H 6650 1800 50  0001 C CNN
F 1 "+5V" H 6665 2127 50  0000 C CNN
F 2 "" H 6650 1950 50  0001 C CNN
F 3 "" H 6650 1950 50  0001 C CNN
	1    6650 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6500 2100 6650 2100
Wire Wire Line
	6650 2100 6650 1950
$Comp
L power:GND #PWR014
U 1 1 5F1EBBB5
P 6650 2650
F 0 "#PWR014" H 6650 2400 50  0001 C CNN
F 1 "GND" H 6655 2473 50  0000 C CNN
F 2 "" H 6650 2650 50  0001 C CNN
F 3 "" H 6650 2650 50  0001 C CNN
	1    6650 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6500 2500 6650 2500
Wire Wire Line
	6650 2500 6650 2650
$Comp
L power:+12V #PWR012
U 1 1 5F1ECC4F
P 5350 2000
F 0 "#PWR012" H 5350 1850 50  0001 C CNN
F 1 "+12V" H 5365 2177 50  0000 C CNN
F 2 "" H 5350 2000 50  0001 C CNN
F 3 "" H 5350 2000 50  0001 C CNN
	1    5350 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	5350 2000 5350 2100
Connection ~ 5350 2100
Wire Wire Line
	5350 2100 5500 2100
$Comp
L Device:CP C1
U 1 1 5F1EEF9A
P 6950 2300
F 0 "C1" H 7071 2347 50  0000 L CNN
F 1 "100u/25v" H 7071 2254 50  0000 L CNN
F 2 "" H 6988 2150 50  0001 C CNN
F 3 "~" H 6950 2300 50  0001 C CNN
	1    6950 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	6650 2100 6950 2100
Wire Wire Line
	6950 2100 6950 2150
Connection ~ 6650 2100
$Comp
L power:GND #PWR015
U 1 1 5F1F029E
P 6950 2650
F 0 "#PWR015" H 6950 2400 50  0001 C CNN
F 1 "GND" H 6955 2473 50  0000 C CNN
F 2 "" H 6950 2650 50  0001 C CNN
F 3 "" H 6950 2650 50  0001 C CNN
	1    6950 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 2650 6950 2450
Text GLabel 7050 4200 2    50   Input ~ 0
motorPin
$Comp
L power:+5V #PWR?
U 1 1 5F1F2DCE
P 6900 4600
F 0 "#PWR?" H 6900 4450 50  0001 C CNN
F 1 "+5V" V 6915 4731 50  0000 L CNN
F 2 "" H 6900 4600 50  0001 C CNN
F 3 "" H 6900 4600 50  0001 C CNN
	1    6900 4600
	0    1    1    0   
$EndComp
Wire Wire Line
	6900 4600 6600 4600
Wire Wire Line
	7050 4200 6600 4200
Wire Wire Line
	5450 4300 5600 4300
Wire Wire Line
	5300 4450 5450 4450
Wire Wire Line
	5450 4450 5450 4400
Wire Wire Line
	5450 4400 5600 4400
Wire Wire Line
	5600 4200 5550 4200
Wire Wire Line
	5550 4200 5550 4150
Wire Wire Line
	5550 4150 5450 4150
Wire Wire Line
	7050 4050 6900 4050
Wire Wire Line
	6900 4050 6900 4100
Wire Wire Line
	6600 4100 6900 4100
Wire Wire Line
	6900 4300 6900 4350
Wire Wire Line
	6900 4350 7050 4350
Wire Wire Line
	6600 4300 6900 4300
$Comp
L power:+3.3V #PWR?
U 1 1 5F21093A
P 5300 4700
F 0 "#PWR?" H 5300 4550 50  0001 C CNN
F 1 "+3.3V" V 5315 4831 50  0000 L CNN
F 2 "" H 5300 4700 50  0001 C CNN
F 3 "" H 5300 4700 50  0001 C CNN
	1    5300 4700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5300 4700 5450 4700
Wire Wire Line
	5450 4700 5450 4600
Wire Wire Line
	5450 4600 5600 4600
$Comp
L power:GND #PWR?
U 1 1 5F219CFD
P 6850 4500
F 0 "#PWR?" H 6850 4250 50  0001 C CNN
F 1 "GND" V 6855 4369 50  0000 R CNN
F 2 "" H 6850 4500 50  0001 C CNN
F 3 "" H 6850 4500 50  0001 C CNN
	1    6850 4500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6850 4500 6600 4500
$EndSCHEMATC
